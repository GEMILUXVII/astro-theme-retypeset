---
title: 'EchoLife HS8346R5光猫获取超级密码'
published: '2025-10-27'
draft: false
tags: ['tech']
---

# 前言

本教程旨在指导用户如何获取联通华为 EchoLife HS8346R5 光猫的超级管理员密码。教程启发自[**【教程】华为 HN8145V 补全 shell 获取超级密码教程**](https://www.eaglemoe.com/archives/216)。

## 一、准备工作

在开始之前，请确保完成以下准备：

1.  **下载 Telnet 客户端**：下载 [PuTTY](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)
2.  **下载工具**：下载教程中提到的 [HS8346R5.zip](https://xurevve.lanzouq.com/ibHNB39gpv9e)，并解压备用
3.  **关闭防火墙**：登录 192.168.1.1 原有 user 账户关闭防火墙

## 二、补全光猫 Shell

### 2.1 补全说明

设备制造商对 Shell 进行了限制。他们提供了一个极度精简的命令行环境，只保留了极少数用于诊断或特定操作的接口，而屏蔽了像 `cp`、`cd`、`ls`、`rm` 甚至 `help` 这样的标准 Linux 命令。故我们需要使用一些工具对其进行补全，以便能使用完整的命令。

此工具通过利用设备固件中预留的维护协议来解锁后台。
其原理是向局域网发送一个设备能够识别的特定组播（Multicast）数据包。光猫内置的服务在接收到这个数据包后，会执行其中包含的预设指令，主要完成两项关键任务：

1. 开启 Telnet 服务

激活被固件默认关闭的 Telnet 守护进程，从而允许我们通过命令行远程登录到设备系统。

2. 补全运行环境 (Shell)

向设备内存中注入一个功能完整的 BusyBox 程序。这为当前高度受限的 Shell 环境临时补充了所有必需的 Linux 标准命令（如 cp, cd, gzip 等），使后续提取配置文件的操作得以执行。

### 2.2 操作流程

1.  **拔掉光猫的光纤**，然后重新启动光猫。

2.  再次连接网络。

3.  打开解压好的 `ONT组播配置工具V3-V5_2.0.exe`。

4.  在工具界面中，网卡选择你当前连接光猫的有线网卡。

5.  版本选择 **`V5使能`**。

6.  点击 **“启动”** 按钮。程序会自动扫描并开启光猫的 Telnet 功能。

7.  当工具右侧状态栏显示 `Success`，且光猫的 LED 灯全亮时，表示 Telnet 已成功开启。

![superadmin-1.png](/superadmin-1.png)

8.  手动断电重启光猫，然后插回光纤。

## 三、提取解密

### 3.1 提取密码

1.  光猫重启后，打开 PuTTY，输入以下地址登录，端口为默认 23：

    ```bash
    192.168.1.1
    ```

2.  根据提示，输入用户名 `root` 和密码 `adminHW`

3.  成功登录后，依次执行以下命令：

    ```bash
    su
    shell
    cp /mnt/jffs2/hw_ctree.xml /mnt/jffs2/myhwcfg.xml.gz
    cd /mnt/jffs2/
    aescrypt2 1 myhwcfg.xml.gz tem
    gzip -d myhwcfg.xml.gz
    grep WebUserInfoInstance myhwcfg.xml
    ```

4.  执行 `grep` 命令后，终端会输出一行包含 `Password` 字段的文本。**将引号内的加密密码字符串完整复制下来**

### 3.2 解密密码

1.  打开工具包中的 `华为光猫配置加解密工具.exe`

2.  选择 **`$2解密`** 选项卡

3.  将上一步复制的加密字符串粘贴到输入框中

4.  点击 **"解密"** 按钮，即可获得明文的超级管理员密码

## 四、配置光猫桥接

获取超级密码后，即可登录后台修改为桥接模式。

1.  **登录超级管理后台**
    - 在浏览器中访问 `http://192.168.1.1/cu.html`
    - 使用刚刚解密出来的密码进行登录

2.  **修改桥接**
    - 进入网络或高级设置中的 WAN 配置页面
    - 找到 `连接名称` 为 `2_INTERNET_R_VID_xxxx` 的那一项（`xxxx` 是你的 VLAN ID）
    - 在配置页面中，找到 **WAN 类型** 或 **模式** 选项
    - 将其值从 **路由 WAN** 修改为 **桥接 WAN**
    - 保存设置

至此，光猫已成功设置为桥接模式。现在你可以使用自己的路由器，在路由器的 WAN 设置中选择 `PPPoE` 拨号，填入你的宽带账号和密码来上网了。
